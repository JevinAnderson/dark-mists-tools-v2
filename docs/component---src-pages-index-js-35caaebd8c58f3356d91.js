"use strict";(self.webpackChunkdark_mists_tools_v2=self.webpackChunkdark_mists_tools_v2||[]).push([[678],{1186:function(e,t,a){a.r(t),a.d(t,{default:function(){return Je}});var n={};a.r(n),a.d(n,{createItem:function(){return p},editItem:function(){return h},fetchItems:function(){return d},removeItem:function(){return g},setItems:function(){return u}});var r={};a.r(r),a.d(r,{setExclusions:function(){return $e},setKeyword:function(){return je},setKeywords:function(){return Oe},setKeywordsSearchType:function(){return Me},setMaterial:function(){return Le},setPulsing:function(){return De},setWeight:function(){return We},setWeightType:function(){return Be},toggleAdvancedSearch:function(){return Fe}});var o=a(7294),s=a(6706),l=a(682),i=a(5785),c=a(6014),m=a(2137);const u=e=>(0,c.t8)(m.l,e),d=()=>e=>{firebase.database().ref("items").once("value").then((t=>{const a=t.val()||{},n=Object.entries(a).map((e=>{let[t,a]=e;return{id:t,...a}}));e(u(n))})).catch(console.log)},p=e=>(t,a)=>{const n=firebase.database().ref("items").push();n.set(e).then((()=>{const{items:r}=a();t(u([{id:n.key,...e}].concat((0,i.Z)(r))))})).catch(console.log)},h=e=>(t,a)=>{const{id:n,...r}=e;firebase.database().ref("items/"+n).set(r).then((()=>{const{items:e}=a(),o=e.map((e=>e.id!==n?e:{id:n,...r}));t(u(o))})).catch(console.log)},g=e=>(t,a)=>{firebase.database().ref("items/"+e).remove().then((()=>{const{items:n}=a(),r=n.filter((t=>t.id!==e));t(u(r))})).catch(console.log)};var v=a(1721),f=a(8306),y=a.n(f),E=a(7361),w=a.n(E),x=a(5005),b=a(4184),C=a.n(b),k=(a(2473),a(8977)),S=a(5115),I=a(6792),Z=a(8146),N=a(3716),P=a(7126),A=a(5893);const T=o.forwardRef((({bsPrefix:e,active:t,disabled:a,eventKey:n,className:r,variant:o,action:s,as:l,...i},c)=>{e=(0,I.vE)(e,"list-group-item");const[m,u]=(0,N.v)({key:(0,P.h)(n,i.href),active:t,...i}),d=(0,Z.Z)((e=>{if(a)return e.preventDefault(),void e.stopPropagation();m.onClick(e)}));a&&void 0===i.tabIndex&&(i.tabIndex=-1,i["aria-disabled"]=!0);const p=l||(s?i.href?"a":"button":"div");return(0,A.jsx)(p,{ref:c,...i,...m,onClick:d,className:C()(r,e,u.isActive&&"active",a&&"disabled",o&&`${e}-${o}`,s&&`${e}-action`)})}));T.displayName="ListGroupItem";var _=T;const K=o.forwardRef(((e,t)=>{const{className:a,bsPrefix:n,variant:r,horizontal:o,numbered:s,as:l="div",...i}=(0,k.Ch)(e,{activeKey:"onSelect"}),c=(0,I.vE)(n,"list-group");let m;return o&&(m=!0===o?"horizontal":`horizontal-${o}`),(0,A.jsx)(S.Z,{ref:t,...i,as:l,className:C()(a,c,r&&`${c}-${r}`,m&&`${c}-${m}`,s&&`${c}-numbered`)})}));K.displayName="ListGroup";var R=Object.assign(K,{Item:_});const j=e=>{let{children:t,style:a={},...n}=e;return o.createElement("span",Object.assign({},n,{style:{whiteSpace:"pre-line",...a},dangerouslySetInnerHTML:{__html:t}}))};j.defaultProps={children:""};var O={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};function M(e){return String(e).replace(/[&<>"'`=\/]/g,(function(e){return O[e]}))}const $=Object.keys(O).reduce(((e,t)=>(e[O[t]]=t,e)),{});$["&#039;"]="'",$["<br />"]="";const L=e=>Object.keys($).reduce(((e,t)=>{const a=$[t],n=new RegExp(t,"g");return e.replace(n,a)}),e);var D=["Not sure","Pulses","Doesn't pulse"];var W=["Can't dissolve","Acid","Adamantite","Adamantium","Amber","Amethyst","Ash","Balm","Bamboo","Black dragonscale","Blood","Blue dragonscale","Bone","Brass","Bread","Bronze","Canvas","Ceramic","China","Clay","Cloth","Coal","Copper","Coral","Corundum","Crystal","Diamond","Dragonscale","Earth","Ebony","Electrum","Elm","Elysium","Emerald","Etherealness","Felt","Fire","Flesh","Food","Gem","Glass","Gold","Gold dragonscale","Granite","Green dragonscale","Gut","Hardwood","Hemp","Ice","Iron","Ivory","Jade","Lead","Leather","Light","Lodestone","Malachite","Maple","Marble","Meat","Metal","Mithril","Moss","Oak","Oakwood","Obsidian","Onyx","Opal","Paper","Parchment","Pearl","Pewter","Pine","Pinewood","Platinum","Pottery","Quartz","Red dragonscale","Redstone","Rock","Rosestone","Ruby","Sand","Sandstone","Sapphire","Shell","Silk","Silver","Silver dragonscale","Skin","Slime","Softwood","Steel","Stone","Tin","Titanium","Warpstone","Water","Wax","White dragonscale","Wood"],B=a(1881);var F=a(4791),G=a(3561),H=a(4680),z=a(6558),q=a(3045);const U=(0,H.Z)("input-group-text",{Component:"span"}),Y=o.forwardRef((({bsPrefix:e,size:t,hasValidation:a,className:n,as:r="div",...s},l)=>{e=(0,I.vE)(e,"input-group");const i=(0,o.useMemo)((()=>({})),[]);return(0,A.jsx)(q.Z.Provider,{value:i,children:(0,A.jsx)(r,{ref:l,...s,className:C()(n,e,t&&`${e}-${t}`,a&&"has-validation")})})}));Y.displayName="InputGroup";var Q=Object.assign(Y,{Text:U,Radio:e=>(0,A.jsx)(U,{children:(0,A.jsx)(z.Z,{type:"radio",...e})}),Checkbox:e=>(0,A.jsx)(U,{children:(0,A.jsx)(z.Z,{type:"checkbox",...e})})}),J=a(1705);var V=["Affects spell power","Affects mana regeneration","vampiric","draining","fatiguing","resonating","mage_allowed","elementalist_allowed","necromancer_allowed","channeler_allowed","pass_door","detect_good","detect_evil","detect_invis","detect_hidden","protect_good","infrared","detect_magic","invisible","Adds sneak","is type potion,","is type wand,","is type staff,"];const X=e=>Object.prototype.toString.call(e),ee={STRING:X(""),NUMBER:X(1),BOOLEAN:X(!0),OBJECT:X({}),ARRAY:X([]),ERROR:X(Error()),FUNCTION:X((function(){})),NULL:X(null),UNDEFINED:X(void 0)},te=e=>X(e)===ee.ARRAY;var ae=(e,t)=>a=>{const n=te(t)?t:[];return function(t){function r(a){var n;return(n=t.call(this,a)||this).state=e(a),n}(0,v.Z)(r,t);var s=r.prototype;return s.componentWillReceiveProps=function(t){if(this.shouldDeriveNewProps(t)){const a=e(t);this.setState(a)}},s.shouldDeriveNewProps=function(e){return 0===n.length||!!n.some((t=>w()(e,t)!==w()(this.props,t)))},s.render=function(){const e={...this.props,...this.state};return o.createElement(a,e)},r}(o.Component)};const ne={mats:!0,pulsing:!0};let re=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this).onChange=e=>{let{target:a}=e;const n=a.getAttribute("data-item-key");let{value:r}=a;ne[n]&&(r=Number(r)),t.updateItem(n,r)},t.updateTag=e=>{let{target:{value:a=""}}=e;const{item:n}=t.props;let{pulsing:r=0}=n;r=t.doesTagPulse(a)?1:r;const o={pulsing:r,material:t.materialFromTag(a),tag:M(a)};t.updateItemWithAuthor((0,J.TS)(n,o))},t.render=()=>{const{props:{children:e,item:a,tag:n}}=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t);return o.createElement(G.Z,null,o.createElement(G.Z.Group,{className:"mb-1"},o.createElement(G.Z.Control,{onChange:t.updateTag,value:n,"data-item-key":"tag",as:"textarea",rows:6})),o.createElement(Q,{className:"mb-1"},o.createElement(Q.Text,null,"Author"),o.createElement(G.Z.Control,{value:a.author,"data-item-key":"author",onChange:t.onChange,placeholder:"Author"})),o.createElement(Q,{className:"mb-1"},o.createElement(Q.Text,null,"Area"),o.createElement(G.Z.Control,{placeholder:"Area",value:a.area||"","data-item-key":"area",onChange:t.onChange})),o.createElement(Q,{className:"mb-1"},o.createElement(Q.Text,null,"Mob"),o.createElement(G.Z.Control,{placeholder:"Mob",value:a.mob||"","data-item-key":"mob",onChange:t.onChange})),o.createElement(Q,{className:"mb-1"},o.createElement(Q.Text,null,"Noun"),o.createElement(G.Z.Control,{placeholder:"Weapon Attack Noun",value:a.attack_noun||"","data-item-key":"attack_noun",onChange:t.onChange})),o.createElement(Q,{className:"mb-1"},o.createElement(Q.Text,null,"Hidden"),o.createElement(G.Z.Control,{placeholder:"Hidden Item Affects",value:a.hidden_affects||"","data-item-key":"hidden_affects",onChange:t.onChange})),o.createElement(Q,{className:"mb-1"},o.createElement(Q.Text,null,"Gate"),o.createElement(G.Z.Control,{placeholder:"Gate Point",value:a.gate||"","data-item-key":"gate",onChange:t.onChange})),o.createElement(Q,{className:"mb-1"},o.createElement(Q.Text,null,"Quest"),o.createElement(G.Z.Control,{placeholder:"Quest Info",value:a.quest_information||"","data-item-key":"quest_information",onChange:t.onChange})),o.createElement(Q,{className:"mb-1"},o.createElement(Q.Text,null,"Pulsing"),o.createElement(G.Z.Select,{value:a.pulsing||0,"data-item-key":"pulsing",onChange:t.onChange},o.createElement("option",{value:"0"},"Not Sure"),o.createElement("option",{value:"1"},"Pulses"),o.createElement("option",{value:"2"},"Doesn't pulse"))))},t}(0,v.Z)(t,e);var a=t.prototype;return a.doesTagPulse=function(e){return V.some((t=>-1!==e.indexOf(t)))},a.materialFromTag=function(e){let t=(e.match(/Material is (.*)\./g)||[""])[0].replace("Material is ","").replace(".","");var a;t=(a=t).charAt(0).toUpperCase()+a.slice(1);const n=W.indexOf(t);return-1===n?0:n},a.updateItem=function(e,t){const a=(0,J.TS)(this.props.item,{[e]:t});this.updateItemWithAuthor(a)},a.updateItemWithAuthor=function(e){const{user:t,updateItem:a}=this.props,n=w()(t,"displayName",e.author);a((0,J.TS)(e,{author:n}))},t}(o.PureComponent);var oe=(0,F.qC)((0,s.$j)(((e,t)=>{let{user:a}=e;return{...t,user:a}})),ae((e=>({tag:L(w()(e,"item.tag",""))})),["item.tag"],"tag"))(re);const se=["item"];let le=function(e){function t(){for(var a,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=e.call.apply(e,[this].concat(r))||this).state=t.mapPropsToState(a.props),a.updateItem=e=>{a.setState({item:e})},a.save=()=>{let e=new Date;e=e.toISOString(),a.props.updateItem({...a.state.item,date_posted:e})},a}(0,v.Z)(t,e);var a=t.prototype;return a.componentWillReceiveProps=function(e){if(se.some((t=>e[t]!==this.props[t]))){const a=t.mapPropsToState(e);this.setState(a)}},t.mapPropsToState=function(e){let{item:t={}}=e;return{item:t}},a.render=function(){const{props:{header:e,open:t,close:a},state:{item:n},updateItem:r,save:s}=this;return o.createElement(B.Z,{show:t,onHide:a},o.createElement(B.Z.Header,null,e),o.createElement(B.Z.Body,null,o.createElement(oe,{item:n,updateItem:r})),o.createElement(B.Z.Footer,null,o.createElement(x.Z,{variant:"danger",className:"me-2",onClick:a},"Cancel"),o.createElement(x.Z,{variant:"primary",onClick:s},"Save")))},t}(o.PureComponent);le.defaultProps={header:"Edit Item"};var ie=le;let ce=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this).state={},t.toggleExpanded=()=>{t.setState((e=>({expanded:!e.expanded})))},t.updateItem=e=>{t.stopEditing(),t.props.editItem(e)},t.edit=()=>{t.setState({editing:!0})},t.stopEditing=()=>{t.setState({editing:!1})},t.remove=()=>{t.props.removeItem(t.props.item.id)},t.style=()=>({display:t.props.filtered?void 0:"none"}),t}return(0,v.Z)(t,e),t.prototype.render=function(){const{props:{user:e,item:t,tag:a},state:{expanded:n,editing:r}}=this;return this.props.filtered?o.createElement(R,{style:this.style(),className:"mb-4"},o.createElement(R.Item,null,o.createElement(j,null,a)),o.createElement(R.Item,{className:"pointer secondaryBackgroundOnHover",onClick:this.toggleExpanded},"Details"),n&&o.createElement(o.Fragment,null,o.createElement(R.Item,null,o.createElement("div",{className:"fw-bold"},"Author"),t.author),o.createElement(R.Item,null,o.createElement("div",{className:"fw-bold"},"Area"),t.area),o.createElement(R.Item,null,o.createElement("div",{className:"fw-bold"},"Mob"),t.mob),o.createElement(R.Item,null,o.createElement("div",{className:"fw-bold"},"Attack Noun"),t.attack_noun),o.createElement(R.Item,null,o.createElement("div",{className:"fw-bold"},"Hidden Affects"),t.hidden_affects),o.createElement(R.Item,null,o.createElement("div",{className:"fw-bold"},"Quest Info"),t.quest_information),o.createElement(R.Item,null,o.createElement("div",{className:"fw-bold"},"Pulsing"),D[t.pulsing]),o.createElement(R.Item,null,o.createElement("div",{className:"fw-bold"},"Material"),W[t.material]),o.createElement(R.Item,null,o.createElement("div",{className:"fw-bold"},"Gate Point"),t.gate_point),o.createElement(R.Item,null,o.createElement("div",{className:"fw-bold"},"Last Modified"),function(e){if(!e)return"Date posted not found...";const t=new Date(e),a=t.getDate();return t.getMonth()+1+"/"+a+"/"+t.getFullYear()}(t.date_posted)),e&&o.createElement(R.Item,null,o.createElement(x.Z,{variant:"danger",className:"me-2",onClick:this.remove},"delete"),o.createElement(x.Z,{variant:"primary",className:"me-2",onClick:this.edit},"edit")),r&&o.createElement(ie,{header:"Edit Item",item:t,open:r,close:this.stopEditing,updateItem:this.updateItem}))):null},t}(o.PureComponent);var me=ae((e=>({tag:M(L(w()(e,"item.tag","")))})),["item.tag"],"tag")(ce);const ue=y()((function(e){const t=e.match(/Weight is (?<weight>[0-9]+\.?[0-9]*) pounds/i);return t&&t.groups&&t.groups.weight?parseFloat(t.groups.weight)||0:null}));let de=function(e){function t(){return e.apply(this,arguments)||this}(0,v.Z)(t,e);var a=t.prototype;return a.simpleSearch=function(e){const{item_search:{keyword:t}}=this.props;return!t||-1!==e.tag.toLowerCase().indexOf(t.toLowerCase())},a.advancedSearch=function(e){let{item_search:{keywords:t=[],exclusions:a=[],keywordsSearchType:n="any",pulsing:r="yes",material:o="any",weight:s,weightType:l}}=this.props;if("no"===r&&"2"!=e.pulsing)return!1;if("any"!==o&&e.material!=o)return!1;t=t.filter((e=>e.trim()));const i=e.tag.toLowerCase();if(a=a.filter(Boolean).map((e=>e.toLowerCase())),a.some((e=>-1!==i.indexOf(e))))return!1;if(s){const t=parseFloat(s)||0,a=ue(e.tag);if(null!==a){if(">"===l&&a<t)return!1;if("<"===l&&a>t)return!1}}if(0===t.length)return!0;if("any"===n){if(t.every((e=>-1===i.indexOf(e.toLowerCase()))))return!1}else if(t.some((e=>-1===i.indexOf(e.toLowerCase()))))return!1;return!0},a.isItemVisible=function(e){return this.props.item_search.showAdvancedSearch?this.advancedSearch(e):this.simpleSearch(e)},a.render=function(){const{items:e=[],user:t,editItem:a,removeItem:n}=this.props;return e.map((e=>o.createElement(me,{key:e.id,user:t,item:e,editItem:a,removeItem:n,filtered:this.isItemVisible(e)})))},t}(o.PureComponent);var pe=(0,s.$j)(((e,t)=>{let{items:a,item_search:n,user:r}=e;return{items:a,item_search:n,user:r,...t}}))(de),he=a(9602);const ge=o.forwardRef((({bsPrefix:e,className:t,variant:a,as:n="img",...r},o)=>{const s=(0,I.vE)(e,"card-img");return(0,A.jsx)(n,{ref:o,className:C()(a?`${s}-${a}`:s,t),...r})}));ge.displayName="CardImg";var ve=ge,fe=a(9059);const ye=o.forwardRef((({bsPrefix:e,className:t,as:a="div",...n},r)=>{const s=(0,I.vE)(e,"card-header"),l=(0,o.useMemo)((()=>({cardHeaderBsPrefix:s})),[s]);return(0,A.jsx)(fe.Z.Provider,{value:l,children:(0,A.jsx)(a,{ref:r,...n,className:C()(t,s)})})}));ye.displayName="CardHeader";var Ee=ye;const we=(0,he.Z)("h5"),xe=(0,he.Z)("h6"),be=(0,H.Z)("card-body"),Ce=(0,H.Z)("card-title",{Component:we}),ke=(0,H.Z)("card-subtitle",{Component:xe}),Se=(0,H.Z)("card-link",{Component:"a"}),Ie=(0,H.Z)("card-text",{Component:"p"}),Ze=(0,H.Z)("card-footer"),Ne=(0,H.Z)("card-img-overlay"),Pe=o.forwardRef((({bsPrefix:e,className:t,bg:a,text:n,border:r,body:o=!1,children:s,as:l="div",...i},c)=>{const m=(0,I.vE)(e,"card");return(0,A.jsx)(l,{ref:c,...i,className:C()(t,m,a&&`bg-${a}`,n&&`text-${n}`,r&&`border-${r}`),children:o?(0,A.jsx)(be,{children:s}):s})}));Pe.displayName="Card";var Ae=Object.assign(Pe,{Img:ve,Title:Ce,Subtitle:ke,Body:be,Link:Se,Text:Ie,Header:Ee,Footer:Ze,ImgOverlay:Ne}),Te=a(1555);const _e=o.forwardRef((({bsPrefix:e,className:t,as:a="div",...n},r)=>{const o=(0,I.vE)(e,"row"),s=(0,I.pi)(),l=(0,I.zG)(),i=`${o}-cols`,c=[];return s.forEach((e=>{const t=n[e];let a;delete n[e],null!=t&&"object"==typeof t?({cols:a}=t):a=t;const r=e!==l?`-${e}`:"";null!=a&&c.push(`${i}${r}-${a}`)})),(0,A.jsx)(a,{ref:r,...n,className:C()(t,o,...c)})}));_e.displayName="Row";var Ke=_e,Re=a(6371);const je=e=>(0,c.t8)(Re.xY,e),Oe=e=>(0,c.t8)(Re.KI,e),Me=e=>(0,c.t8)(Re.JK,e),$e=e=>(0,c.t8)(Re.xx,e),Le=e=>(0,c.t8)(Re.Ik,e),De=e=>(0,c.t8)(Re.ks,e),We=e=>(0,c.t8)(Re.nO,e),Be=e=>(0,c.t8)(Re.ch,e),Fe=()=>(0,c.fb)(Re.fw);var Ge=a(3493),He=a.n(Ge);let ze=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this).state={keywords:(0,i.Z)(t.props.keywords),exclusions:(0,i.Z)(t.props.exclusions)},t.addKeyword=()=>{t.setStateKeywords([].concat((0,i.Z)(t.props.keywords),[""]))},t.removeKeyword=()=>{const e=(0,i.Z)(t.props.keywords);e.pop(),t.setStateKeywords(e)},t.updateKeywords=e=>{let{target:a}=e;const n=parseInt(a.getAttribute("data-keyword-index"),10),r=a.value,o=(0,i.Z)(t.props.keywords);o.splice(n,1,r),t.setStateKeywords(o)},t.addExclusion=()=>{t.setStateExclusions([].concat((0,i.Z)(t.state.exclusions),[""]))},t.removeExclusion=()=>{t.setStateExclusions(t.state.exclusions.slice(0,t.state.exclusions.length-1))},t.updateExclusions=e=>{let{target:a}=e;const n=parseInt(a.getAttribute("data-exclusion-index"),10);console.log("updateExclusions index",n);const r=a.value,o=(0,i.Z)(t.state.exclusions);o.splice(n,1,r),t.setStateExclusions(o)},t.setStateExclusions=e=>{t.setState({exclusions:e},t.setStoreExclusions)},t.setStoreExclusions=He()((()=>{t.props.setExclusions(t.state.exclusions)}),1e3),t.setStateKeywords=e=>{t.setState({keywords:e},t.setStoreKeywords)},t.setStoreKeywords=He()((()=>{t.props.setKeywords(t.state.keywords)}),1e3),t.updateKeywordsSearchType=e=>{let{target:{value:a}}=e;t.props.setKeywordsSearchType(a)},t.updatePulsing=e=>{let{target:{value:a}}=e;t.props.setPulsing(a)},t.updateMaterial=e=>{let{target:{value:a}}=e;t.props.setMaterial(a)},t.render=()=>o.createElement(o.Fragment,null,o.createElement(R,{className:"mb-2"},o.createElement(R.Item,null,o.createElement(x.Z,{variant:"outline-secondary",onClick:t.props.toggleAdvancedSearch},"Simple Search"))),o.createElement(R,{className:"mb-2"},o.createElement(R.Item,null,t.state.keywords.map(((e,a)=>o.createElement(G.Z.Control,{key:a,className:"mt-2","data-keyword-index":a,onChange:t.updateKeywords,value:e}))),o.createElement(G.Z.Select,{value:t.props.keywordsSearchType,onChange:t.updateKeywordsSearchType,className:"mt-2"},o.createElement("option",{value:"all"},"Must have ALL Keywords"),o.createElement("option",{value:"any"},"May contain any Keyword")),o.createElement(x.Z,{variant:"danger",className:"my-2 me-2",onClick:t.removeKeyword},"Remove Keyword"),o.createElement(x.Z,{onClick:t.addKeyword},"Add Keyword"))),o.createElement(R,{className:"mb-2"},o.createElement(R.Item,null,o.createElement(G.Z.Label,null,"Do not include any of these:"),o.createElement("br",null),t.state.exclusions.map(((e,a)=>o.createElement(G.Z.Control,{key:a,className:"mt-2",value:e,"data-exclusion-index":a,onChange:t.updateExclusions}))),o.createElement(x.Z,{variant:"danger",className:"my-2 me-2",onClick:t.removeExclusion},"Remove Exclusion"),o.createElement(x.Z,{onClick:t.addExclusion},"Add Exclusion"))),o.createElement(R,null,o.createElement(R.Item,null,o.createElement(Q,null,o.createElement(Q.Text,null,"Include Pulsing Items"),o.createElement(G.Z.Select,{value:t.props.pulsing,onChange:t.updatePulsing},o.createElement("option",{value:"yes"},"Yes"),o.createElement("option",{value:"no"},"No"))),o.createElement(Q,null,o.createElement(Q.Text,null,"Filter by material"),o.createElement(G.Z.Select,{value:t.props.material,onChange:t.updateMaterial},o.createElement("option",{value:"any",className:"value"},"Any material"),W.map(((e,t)=>o.createElement("option",{key:e,value:t},e))))),o.createElement(Q,null,o.createElement(Q.Text,null,"Filter by weight"),o.createElement(G.Z.Select,{value:t.props.weightType,onChange:e=>t.props.setWeightType(e.target.value)},o.createElement("option",{value:"<"},"Must be less than"),o.createElement("option",{value:">"},"Must be greater than")),o.createElement(G.Z.Control,{type:"number",value:t.props.weight,onChange:e=>t.props.setWeight(e.target.value)}))))),t}return(0,v.Z)(t,e),t.prototype.componentWillReceiveProps=function(e){e.keywords!==this.props.keywords&&this.setState({keywords:(0,i.Z)(e.keywords)})},t}(o.Component);ze.defaultProps={keywords:[""],keywordsSearchType:"any",exclusions:[],pulsing:"yes",material:"any",weight:"",weightType:"<"};var qe=(0,s.$j)((e=>{let{item_search:t}=e;return t}),r)(ze);const Ue=["keyword"];let Ye=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this).state={item:{},keyword:t.props.keyword},t.onKeyDown=e=>{"Enter"===e.key&&(e.preventDefault(),e.stopPropagation(),t.update())},t.edit=()=>{t.setState({editing:!0})},t.stopEditing=()=>{t.setState({editing:!1})},t.updateItem=e=>{t.setState({item:e})},t.saveItem=e=>{t.setState({editing:!1,item:{}}),t.props.createItem(e)},t.updateKeyword=e=>{let{target:{value:a}}=e;t.setState({keyword:a})},t.update=()=>{t.props.keyword!==t.state.keyword&&t.props.setKeyword(t.state.keyword)},t.render=()=>t.props.showAdvancedSearch?o.createElement(qe,null):o.createElement(Ae,null,o.createElement(Ae.Body,null,o.createElement(G.Z,null,o.createElement(Ke,{className:"align-items-center"},o.createElement(Te.Z,{xs:"auto"},o.createElement(G.Z.Control,{type:"text",placeholder:"Search",value:t.state.keyword,onChange:t.updateKeyword,onKeyDown:t.onKeyDown})),o.createElement(Te.Z,{xs:"auto"},o.createElement(x.Z,{variant:"outline-secondary",onClick:t.update},"Submit")),o.createElement(Te.Z,{xs:"auto"},o.createElement(x.Z,{variant:"outline-secondary",onClick:t.props.toggleAdvancedSearch},"Advanced Search")),t.props.user&&o.createElement(Te.Z,{xs:"auto"},o.createElement(x.Z,{variant:"primary",onClick:t.edit},"Create item")),t.state.editing&&o.createElement(ie,{header:"Create Item",item:t.state.item,open:t.state.editing,close:t.stopEditing,updateItem:t.saveItem}))))),t}(0,v.Z)(t,e);var a=t.prototype;return a.componentWillReceiveProps=function(e){if(Ue.some((t=>e[t]!==this.props[t]))){const t=this.mapPropsToState(e);this.setState(t)}},a.mapPropsToState=function(e){let{keyword:t}=e;return{keyword:t}},t}(o.Component);var Qe=(0,s.$j)(((e,t)=>{let{user:a,item_search:n}=e;return{user:a,...n,...t}}),r)(Ye);var Je=(0,s.$j)((e=>e),n)((e=>{let{createItem:t,editItem:a,removeItem:n,fetchItems:r}=e;return(0,o.useEffect)(r,[]),o.createElement(l.Z,{style:{maxWidth:"600px"}},o.createElement("main",null,o.createElement("br",null),o.createElement(Qe,{createItem:t}),o.createElement("br",null),o.createElement(pe,{editItem:a,removeItem:n})))}))}}]);
//# sourceMappingURL=component---src-pages-index-js-35caaebd8c58f3356d91.js.map