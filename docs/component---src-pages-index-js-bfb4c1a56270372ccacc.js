"use strict";(self.webpackChunkdark_mists_tools_v2=self.webpackChunkdark_mists_tools_v2||[]).push([[293],{1596:function(e,t,a){a.r(t),a.d(t,{default:function(){return mt}});var n={};a.r(n),a.d(n,{createItem:function(){return p},editItem:function(){return h},fetchItems:function(){return u},removeItem:function(){return f},setItems:function(){return d}});var r={};a.r(r),a.d(r,{setArea:function(){return Xe},setExclusions:function(){return He},setKeyword:function(){return Be},setKeywords:function(){return Ge},setKeywordsSearchType:function(){return Ze},setMaterial:function(){return ze},setPulsing:function(){return Ve},setSlot:function(){return qe},setWeight:function(){return Qe},setWeightType:function(){return Ye},toggleAdvancedSearch:function(){return Je}});var o=a(6540),s=a(1468),l=a(3048),i=a(4506),c=a(6636),m=a(6518);const d=e=>(0,c.hZ)(m.q,e),u=()=>e=>{firebase.database().ref("items").once("value").then((t=>{const a=t.val()||{},n=Object.entries(a).map((e=>{let[t,a]=e;return{id:t,...a}}));e(d(n))})).catch(console.log)},p=e=>(t,a)=>{const n=firebase.database().ref("items").push();n.set(e).then((()=>{const{items:r}=a();t(d([{id:n.key,...e}].concat((0,i.A)(r))))})).catch(console.log)},h=e=>(t,a)=>{const{id:n,...r}=e;firebase.database().ref(`items/${n}`).set(r).then((()=>{const{items:e}=a(),o=e.map((e=>e.id!==n?e:{id:n,...r}));t(d(o))})).catch(console.log)},f=e=>(t,a)=>{firebase.database().ref(`items/${e}`).remove().then((()=>{const{items:n}=a(),r=n.filter((t=>t.id!==e));t(d(r))})).catch(console.log)};var g=a(5540),y=a(104),v=a.n(y),E=a(8156),w=a.n(E),A=a(5615),x=a(6942),b=a.n(x),N=(a(9771),a(9612)),C=a(7212),k=a(6519),S=a(7895),I=a(2671),P=a(1406),T=a(4848);const _=o.forwardRef((({bsPrefix:e,active:t,disabled:a,eventKey:n,className:r,variant:o,action:s,as:l,...i},c)=>{e=(0,k.oU)(e,"list-group-item");const[m,d]=(0,I.M)({key:(0,P.u)(n,i.href),active:t,...i}),u=(0,S.A)((e=>{if(a)return e.preventDefault(),void e.stopPropagation();m.onClick(e)}));a&&void 0===i.tabIndex&&(i.tabIndex=-1,i["aria-disabled"]=!0);const p=l||(s?i.href?"a":"button":"div");return(0,T.jsx)(p,{ref:c,...i,...m,onClick:u,className:b()(r,e,d.isActive&&"active",a&&"disabled",o&&`${e}-${o}`,s&&`${e}-action`)})}));_.displayName="ListGroupItem";var R=_;const j=o.forwardRef(((e,t)=>{const{className:a,bsPrefix:n,variant:r,horizontal:o,numbered:s,as:l="div",...i}=(0,N.Zw)(e,{activeKey:"onSelect"}),c=(0,k.oU)(n,"list-group");let m;return o&&(m=!0===o?"horizontal":`horizontal-${o}`),(0,T.jsx)(C.A,{ref:t,...i,as:l,className:b()(a,c,r&&`${c}-${r}`,m&&`${c}-${m}`,s&&`${c}-numbered`)})}));j.displayName="ListGroup";var K=Object.assign(j,{Item:R});const M=e=>{let{children:t="",style:a={},...n}=e;return o.createElement("span",Object.assign({},n,{style:{whiteSpace:"pre-line",...a},dangerouslySetInnerHTML:{__html:t}}))};var O={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};function F(e){return String(e).replace(/[&<>"'`=/]/g,(function(e){return O[e]}))}const L=Object.keys(O).reduce(((e,t)=>(e[O[t]]=t,e)),{});L["&#039;"]="'",L["<br />"]="";const $=e=>Object.keys(L).reduce(((e,t)=>{const a=L[t],n=new RegExp(t,"g");return e.replace(n,a)}),e);var U=["Not sure","Pulses","Doesn't pulse"];var W=["Can't dissolve","Acid","Adamantite","Adamantium","Amber","Amethyst","Ash","Balm","Bamboo","Black dragonscale","Blood","Blue dragonscale","Bone","Brass","Bread","Bronze","Canvas","Ceramic","China","Clay","Cloth","Coal","Copper","Coral","Corundum","Crystal","Diamond","Dragonscale","Earth","Ebony","Electrum","Elm","Elysium","Emerald","Etherealness","Felt","Fire","Flesh","Food","Gem","Glass","Gold","Gold dragonscale","Granite","Green dragonscale","Gut","Hardwood","Hemp","Ice","Iron","Ivory","Jade","Lead","Leather","Light","Lodestone","Malachite","Maple","Marble","Meat","Metal","Mithril","Moss","Oak","Oakwood","Obsidian","Onyx","Opal","Paper","Parchment","Pearl","Pewter","Pine","Pinewood","Platinum","Pottery","Quartz","Red dragonscale","Redstone","Rock","Rosestone","Ruby","Sand","Sandstone","Sapphire","Shell","Silk","Silver","Silver dragonscale","Skin","Slime","Softwood","Steel","Stone","Tin","Titanium","Warpstone","Water","Wax","White dragonscale","Wood"],D=a(8032),B=a(4644),G=a(5378),Z=a(4177),H=a(2061);const z=o.forwardRef((({className:e,bsPrefix:t,as:a="span",...n},r)=>(t=(0,k.oU)(t,"input-group-text"),(0,T.jsx)(a,{ref:r,className:b()(e,t),...n}))));z.displayName="InputGroupText";var V=z;const q=o.forwardRef((({bsPrefix:e,size:t,hasValidation:a,className:n,as:r="div",...s},l)=>{e=(0,k.oU)(e,"input-group");const i=(0,o.useMemo)((()=>({})),[]);return(0,T.jsx)(H.A.Provider,{value:i,children:(0,T.jsx)(r,{ref:l,...s,className:b()(n,e,t&&`${e}-${t}`,a&&"has-validation")})})}));q.displayName="InputGroup";var Q=Object.assign(q,{Text:V,Radio:e=>(0,T.jsx)(V,{children:(0,T.jsx)(Z.A,{type:"radio",...e})}),Checkbox:e=>(0,T.jsx)(V,{children:(0,T.jsx)(Z.A,{type:"checkbox",...e})})}),Y=a(7224);var J=["Affects spell power","Affects mana regeneration","vampiric","draining","fatiguing","resonating","mage_allowed","elementalist_allowed","necromancer_allowed","channeler_allowed","pass_door","detect_good","detect_evil","detect_invis","detect_hidden","protect_good","infrared","detect_magic","invisible","Adds sneak","is type potion,","is type wand,","is type staff,"];const X=e=>Object.prototype.toString.call(e),ee={STRING:X(""),NUMBER:X(1),BOOLEAN:X(!0),OBJECT:X({}),ARRAY:X([]),ERROR:X(Error()),FUNCTION:X((function(){})),NULL:X(null),UNDEFINED:X(void 0)},te=e=>X(e)===ee.ARRAY;var ae=(e,t)=>a=>{const n=te(t)?t:[];return function(t){function r(a){var n;return(n=t.call(this,a)||this).state=e(a),n}(0,g.A)(r,t);var s=r.prototype;return s.UNSAFE_componentWillReceiveProps=function(t){if(this.shouldDeriveNewProps(t)){const a=e(t);this.setState(a)}},s.shouldDeriveNewProps=function(e){return 0===n.length||!!n.some((t=>w()(e,t)!==w()(this.props,t)))},s.render=function(){const e={...this.props,...this.state};return o.createElement(a,e)},r}(o.Component)};var ne=["unknown","N/A","used as light","worn on finger","worn around neck","worn on torso","worn on horns","worn on head","worn over eyes","worn on ear","worn on snout","worn on legs","worn on four legs","worn on ankle","worn on feet","worn on hooves","worn on hands","worn on arms","worn as shield","worn about body","worn on waist","worn around wrist","wielded","held","using fishing line","using as bait","using as lure","dual wielded","banner","worn on bosom","trinal wielded","worn inside cover"];const re={mats:!0,pulsing:!0};let oe=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this).onChange=e=>{let{target:a}=e;const n=a.getAttribute("data-item-key");let{value:r}=a;re[n]&&(r=Number(r)),t.updateItem(n,r)},t.updateTag=e=>{let{target:{value:a=""}}=e;const{item:n}=t.props;let{pulsing:r=0}=n;r=t.doesTagPulse(a)?1:r;const o={pulsing:r,material:t.materialFromTag(a),tag:F(a)};t.updateItemWithAuthor((0,Y.h1)(n,o))},t.render=()=>{const{item:e,tag:a}=t.props;return o.createElement(G.A,null,o.createElement(G.A.Group,{className:"mb-1"},o.createElement(G.A.Control,{onChange:t.updateTag,value:a,"data-item-key":"tag",as:"textarea",rows:6})),o.createElement(Q,{className:"mb-1"},o.createElement(Q.Text,null,"Author"),o.createElement(G.A.Control,{value:e.author,"data-item-key":"author",onChange:t.onChange,placeholder:"Author"})),o.createElement(Q,{className:"mb-1"},o.createElement(Q.Text,null,"Area"),o.createElement(G.A.Control,{placeholder:"Area",value:e.area||"","data-item-key":"area",onChange:t.onChange})),o.createElement(Q,{className:"mb-1"},o.createElement(Q.Text,null,"Mob"),o.createElement(G.A.Control,{placeholder:"Mob",value:e.mob||"","data-item-key":"mob",onChange:t.onChange})),o.createElement(Q,{className:"mb-1"},o.createElement(Q.Text,null,"Slot"),o.createElement(G.A.Select,{value:w()(e,"slot",0),"data-item-key":"slot",onChange:t.onChange},ne.map(((e,t)=>o.createElement("option",{key:e,value:t},e))))),o.createElement(Q,{className:"mb-1"},o.createElement(Q.Text,null,"Noun"),o.createElement(G.A.Control,{placeholder:"Weapon Attack Noun",value:e.attack_noun||"","data-item-key":"attack_noun",onChange:t.onChange})),o.createElement(Q,{className:"mb-1"},o.createElement(Q.Text,null,"Hidden"),o.createElement(G.A.Control,{placeholder:"Hidden Item Affects",value:e.hidden_affects||"","data-item-key":"hidden_affects",onChange:t.onChange})),o.createElement(Q,{className:"mb-1"},o.createElement(Q.Text,null,"Gate"),o.createElement(G.A.Control,{placeholder:"Gate Point",value:e.gate||"","data-item-key":"gate",onChange:t.onChange})),o.createElement(Q,{className:"mb-1"},o.createElement(Q.Text,null,"Quest"),o.createElement(G.A.Control,{placeholder:"Quest Info",value:e.quest_information||"","data-item-key":"quest_information",onChange:t.onChange})),o.createElement(Q,{className:"mb-1"},o.createElement(Q.Text,null,"Pulsing"),o.createElement(G.A.Select,{value:e.pulsing||0,"data-item-key":"pulsing",onChange:t.onChange},o.createElement("option",{value:"0"},"Not Sure"),o.createElement("option",{value:"1"},"Pulses"),o.createElement("option",{value:"2"},"Doesn't pulse"))))},t}(0,g.A)(t,e);var a=t.prototype;return a.doesTagPulse=function(e){return J.some((t=>-1!==e.indexOf(t)))},a.materialFromTag=function(e){void 0===e&&(e="");let t=(e.match(/Material is (.*)\./g)||[""])[0].replace("Material is ","").replace(".","");var a;t=(a=t).charAt(0).toUpperCase()+a.slice(1);const n=W.indexOf(t);return-1===n?0:n},a.updateItem=function(e,t){const a=(0,Y.h1)(this.props.item,{[e]:t});this.updateItemWithAuthor(a)},a.updateItemWithAuthor=function(e){const{user:t,updateItem:a}=this.props,n=w()(t,"displayName",e.author);a((0,Y.h1)(e,{author:n}))},t}(o.PureComponent);var se=(0,B.Zz)((0,s.Ng)(((e,t)=>{let{user:a}=e;return{...t,user:a}})),ae((e=>({tag:$(w()(e,"item.tag",""))})),["item.tag"],"tag"))(oe);const le=["item"];let ie=function(e){function t(){for(var a,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=e.call.apply(e,[this].concat(r))||this).state=t.mapPropsToState(a.props),a.updateItem=e=>{a.setState({item:e})},a.save=()=>{let e=new Date;e=e.toISOString(),a.props.updateItem({...a.state.item,date_posted:e})},a}(0,g.A)(t,e);var a=t.prototype;return a.UNSAFE_componentWillReceiveProps=function(e){if(le.some((t=>e[t]!==this.props[t]))){const a=t.mapPropsToState(e);this.setState(a)}},t.mapPropsToState=function(e){let{item:t={}}=e;return{item:t}},a.render=function(){const{props:{header:e="Edit Item",open:t,close:a},state:{item:n},updateItem:r,save:s}=this;return o.createElement(D.A,{show:t,onHide:a},o.createElement(D.A.Header,null,e),o.createElement(D.A.Body,null,o.createElement(se,{item:n,updateItem:r})),o.createElement(D.A.Footer,null,o.createElement(A.A,{variant:"danger",className:"me-2",onClick:a},"Cancel"),o.createElement(A.A,{variant:"primary",onClick:s},"Save")))},t}(o.PureComponent);var ce=ie;let me=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this).state={},t.toggleExpanded=()=>{t.setState((e=>({expanded:!e.expanded})))},t.updateItem=e=>{t.stopEditing(),t.props.editItem(e)},t.edit=()=>{t.setState({editing:!0})},t.stopEditing=()=>{t.setState({editing:!1})},t.remove=()=>{t.props.removeItem(t.props.item.id)},t.style=()=>({display:t.props.filtered?void 0:"none"}),t}return(0,g.A)(t,e),t.prototype.render=function(){const{props:{user:e,item:t,tag:a},state:{expanded:n,editing:r}}=this;return this.props.filtered?o.createElement(K,{style:this.style(),className:"mb-4"},o.createElement(K.Item,null,o.createElement(M,null,a)),o.createElement(K.Item,{className:"pointer secondaryBackgroundOnHover",onClick:this.toggleExpanded},"Details"),n&&o.createElement(o.Fragment,null,o.createElement(K.Item,null,o.createElement("div",{className:"fw-bold"},"Author"),t.author),o.createElement(K.Item,null,o.createElement("div",{className:"fw-bold"},"Area"),t.area),o.createElement(K.Item,null,o.createElement("div",{className:"fw-bold"},"Mob"),t.mob),o.createElement(K.Item,null,o.createElement("div",{className:"fw-bold"},"Slot"),ne[w()(t,"slot",0)]),o.createElement(K.Item,null,o.createElement("div",{className:"fw-bold"},"Attack Noun"),t.attack_noun),o.createElement(K.Item,null,o.createElement("div",{className:"fw-bold"},"Hidden Affects"),t.hidden_affects),o.createElement(K.Item,null,o.createElement("div",{className:"fw-bold"},"Quest Info"),t.quest_information),o.createElement(K.Item,null,o.createElement("div",{className:"fw-bold"},"Pulsing"),U[t.pulsing]),o.createElement(K.Item,null,o.createElement("div",{className:"fw-bold"},"Material"),W[t.material]),o.createElement(K.Item,null,o.createElement("div",{className:"fw-bold"},"Gate Point"),t.gate_point),o.createElement(K.Item,null,o.createElement("div",{className:"fw-bold"},"Last Modified"),function(e){if(!e)return"Date posted not found...";const t=new Date(e),a=t.getDate();return`${t.getMonth()+1}/${a}/${t.getFullYear()}`}(t.date_posted)),e&&o.createElement(K.Item,null,o.createElement(A.A,{variant:"danger",className:"me-2",onClick:this.remove},"delete"),o.createElement(A.A,{variant:"primary",className:"me-2",onClick:this.edit},"edit")),r&&o.createElement(ce,{header:"Edit Item",item:t,open:r,close:this.stopEditing,updateItem:this.updateItem}))):null},t}(o.PureComponent);var de=ae((e=>({tag:F($(w()(e,"item.tag","")))})),["item.tag"],"tag")(me);const ue=v()((function(e){const t=e.match(/Weight is (?<weight>[0-9]+\.?[0-9]*) pounds/i);return t&&t.groups&&t.groups.weight?parseFloat(t.groups.weight)||0:null}));let pe=function(e){function t(){return e.apply(this,arguments)||this}(0,g.A)(t,e);var a=t.prototype;return a.simpleSearch=function(e){const{item_search:{keyword:t}}=this.props;return!t||-1!==w()(e,"tag","").toLowerCase().indexOf(t.toLowerCase())},a.advancedSearch=function(e){let{item_search:{area:t="",keywords:a=[],exclusions:n=[],keywordsSearchType:r="any",pulsing:o="yes",slot:s,material:l="any",weight:i,weightType:c}}=this.props;if("no"===o&&"2"!=e.pulsing)return!1;if("any"!==l&&e.material!=l)return!1;a=a.filter((e=>e.trim()));const m=w()(e,"tag","").toLowerCase();if(n=n.filter(Boolean).map((e=>e.toLowerCase())),n.some((e=>-1!==m.indexOf(e))))return!1;if(i){const t=parseFloat(i)||0,a=ue(w()(e,"tag",""));if(null!==a){if(">"===c&&a<t)return!1;if("<"===c&&a>t)return!1}}if(t&&-1===w()(e,"area","").toLowerCase().indexOf(t.toLowerCase()))return!1;if(s&&"-1"!==s&&w()(e,"slot","0")!==s)return!1;if(0===a.length)return!0;if("any"===r){if(a.every((e=>-1===m.indexOf(e.toLowerCase()))))return!1}else if(a.some((e=>-1===m.indexOf(e.toLowerCase()))))return!1;return!0},a.isItemVisible=function(e){return this.props.item_search.showAdvancedSearch?this.advancedSearch(e):this.simpleSearch(e)},a.render=function(){const{items:e=[],user:t,editItem:a,removeItem:n}=this.props;return e.map((e=>o.createElement(de,{key:e.id,user:t,item:e,editItem:a,removeItem:n,filtered:this.isItemVisible(e)})))},t}(o.PureComponent);var he=(0,s.Ng)(((e,t)=>{let{items:a,item_search:n,user:r}=e;return{items:a,item_search:n,user:r,...t}}))(pe);const fe=o.forwardRef((({className:e,bsPrefix:t,as:a="div",...n},r)=>(t=(0,k.oU)(t,"card-body"),(0,T.jsx)(a,{ref:r,className:b()(e,t),...n}))));fe.displayName="CardBody";var ge=fe;const ye=o.forwardRef((({className:e,bsPrefix:t,as:a="div",...n},r)=>(t=(0,k.oU)(t,"card-footer"),(0,T.jsx)(a,{ref:r,className:b()(e,t),...n}))));ye.displayName="CardFooter";var ve=ye,Ee=a(581);const we=o.forwardRef((({bsPrefix:e,className:t,as:a="div",...n},r)=>{const s=(0,k.oU)(e,"card-header"),l=(0,o.useMemo)((()=>({cardHeaderBsPrefix:s})),[s]);return(0,T.jsx)(Ee.A.Provider,{value:l,children:(0,T.jsx)(a,{ref:r,...n,className:b()(t,s)})})}));we.displayName="CardHeader";var Ae=we;const xe=o.forwardRef((({bsPrefix:e,className:t,variant:a,as:n="img",...r},o)=>{const s=(0,k.oU)(e,"card-img");return(0,T.jsx)(n,{ref:o,className:b()(a?`${s}-${a}`:s,t),...r})}));xe.displayName="CardImg";var be=xe;const Ne=o.forwardRef((({className:e,bsPrefix:t,as:a="div",...n},r)=>(t=(0,k.oU)(t,"card-img-overlay"),(0,T.jsx)(a,{ref:r,className:b()(e,t),...n}))));Ne.displayName="CardImgOverlay";var Ce=Ne;const ke=o.forwardRef((({className:e,bsPrefix:t,as:a="a",...n},r)=>(t=(0,k.oU)(t,"card-link"),(0,T.jsx)(a,{ref:r,className:b()(e,t),...n}))));ke.displayName="CardLink";var Se=ke,Ie=a(4373);const Pe=(0,Ie.A)("h6"),Te=o.forwardRef((({className:e,bsPrefix:t,as:a=Pe,...n},r)=>(t=(0,k.oU)(t,"card-subtitle"),(0,T.jsx)(a,{ref:r,className:b()(e,t),...n}))));Te.displayName="CardSubtitle";var _e=Te;const Re=o.forwardRef((({className:e,bsPrefix:t,as:a="p",...n},r)=>(t=(0,k.oU)(t,"card-text"),(0,T.jsx)(a,{ref:r,className:b()(e,t),...n}))));Re.displayName="CardText";var je=Re;const Ke=(0,Ie.A)("h5"),Me=o.forwardRef((({className:e,bsPrefix:t,as:a=Ke,...n},r)=>(t=(0,k.oU)(t,"card-title"),(0,T.jsx)(a,{ref:r,className:b()(e,t),...n}))));Me.displayName="CardTitle";var Oe=Me;const Fe=o.forwardRef((({bsPrefix:e,className:t,bg:a,text:n,border:r,body:o=!1,children:s,as:l="div",...i},c)=>{const m=(0,k.oU)(e,"card");return(0,T.jsx)(l,{ref:c,...i,className:b()(t,m,a&&`bg-${a}`,n&&`text-${n}`,r&&`border-${r}`),children:o?(0,T.jsx)(ge,{children:s}):s})}));Fe.displayName="Card";var Le=Object.assign(Fe,{Img:be,Title:Oe,Subtitle:_e,Body:ge,Link:Se,Text:je,Header:Ae,Footer:ve,ImgOverlay:Ce}),$e=a(1105);const Ue=o.forwardRef((({bsPrefix:e,className:t,as:a="div",...n},r)=>{const o=(0,k.oU)(e,"row"),s=(0,k.gy)(),l=(0,k.Jm)(),i=`${o}-cols`,c=[];return s.forEach((e=>{const t=n[e];let a;delete n[e],null!=t&&"object"==typeof t?({cols:a}=t):a=t;const r=e!==l?`-${e}`:"";null!=a&&c.push(`${i}${r}-${a}`)})),(0,T.jsx)(a,{ref:r,...n,className:b()(t,o,...c)})}));Ue.displayName="Row";var We=Ue,De=a(3880);const Be=e=>(0,c.hZ)(De.FL,e),Ge=e=>(0,c.hZ)(De.qk,e),Ze=e=>(0,c.hZ)(De.EM,e),He=e=>(0,c.hZ)(De.X7,e),ze=e=>(0,c.hZ)(De.f7,e),Ve=e=>(0,c.hZ)(De.er,e),qe=e=>(0,c.hZ)(De.Af,e),Qe=e=>(0,c.hZ)(De.Si,e),Ye=e=>(0,c.hZ)(De.Zm,e),Je=()=>(0,c.y9)(De.jX),Xe=e=>(0,c.hZ)(De.bL,e);var et=a(8221),tt=a.n(et),at=a(7350),nt=a.n(at);const rt=500;let ot=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this).state={keywords:(0,i.A)(t.props.keywords),exclusions:(0,i.A)(t.props.exclusions)},t.addKeyword=()=>{t.setStateKeywords([].concat((0,i.A)(t.props.keywords),[""]))},t.removeKeyword=()=>{const e=(0,i.A)(t.props.keywords);e.pop(),t.setStateKeywords(e)},t.updateKeywords=tt()((e=>{let{target:a}=e;const n=parseInt(a.getAttribute("data-keyword-index"),10),r=a.value,o=(0,i.A)(t.props.keywords);o.splice(n,1,r),t.setStateKeywords(o)}),rt),t.addExclusion=()=>{t.setStateExclusions([].concat((0,i.A)(t.state.exclusions),[""]))},t.removeExclusion=()=>{t.setStateExclusions(t.state.exclusions.slice(0,t.state.exclusions.length-1))},t.updateExclusions=tt()((e=>{let{target:a}=e;const n=parseInt(a.getAttribute("data-exclusion-index"),10);console.log("updateExclusions index",n);const r=a.value,o=(0,i.A)(t.state.exclusions);o.splice(n,1,r),t.setStateExclusions(o)}),rt),t.setStateExclusions=e=>{t.setState({exclusions:e},t.setStoreExclusions)},t.setStoreExclusions=nt()((()=>{t.props.setExclusions(t.state.exclusions)}),1e3),t.setStateKeywords=e=>{t.setState({keywords:e},t.setStoreKeywords)},t.setStoreKeywords=nt()((()=>{t.props.setKeywords(t.state.keywords)}),1e3),t.updateKeywordsSearchType=e=>{let{target:{value:a}}=e;t.props.setKeywordsSearchType(a)},t.updatePulsing=e=>{let{target:{value:a}}=e;t.props.setPulsing(a)},t.updateMaterial=e=>{let{target:{value:a}}=e;t.props.setMaterial(a)},t.setArea=tt()((e=>{let{target:{value:a}}=e;t.props.setArea(a)}),rt),t.setWeight=tt()((e=>{let{target:{value:a}}=e;t.props.setWeight(a)}),rt),t.render=()=>o.createElement(o.Fragment,null,o.createElement(K,{className:"mb-2"},o.createElement(K.Item,null,o.createElement(A.A,{variant:"outline-secondary",onClick:t.props.toggleAdvancedSearch},"Simple Search"))),o.createElement(K,{className:"mb-2"},o.createElement(K.Item,null,t.state.keywords.map(((e,a)=>o.createElement(G.A.Control,{key:a,className:"mt-2","data-keyword-index":a,onChange:t.updateKeywords,defaultValue:e}))),o.createElement(G.A.Select,{value:t.props.keywordsSearchType,onChange:t.updateKeywordsSearchType,className:"mt-2"},o.createElement("option",{value:"all"},"Must have ALL Keywords"),o.createElement("option",{value:"any"},"May contain any Keyword")),o.createElement(A.A,{variant:"danger",className:"my-2 me-2",onClick:t.removeKeyword},"Remove Keyword"),o.createElement(A.A,{onClick:t.addKeyword},"Add Keyword"))),o.createElement(K,{className:"mb-2"},o.createElement(K.Item,null,o.createElement(G.A.Label,null,"Do not include any of these:"),o.createElement("br",null),t.state.exclusions.map(((e,a)=>o.createElement(G.A.Control,{key:a,className:"mt-2",defaultValue:e,"data-exclusion-index":a,onChange:t.updateExclusions}))),o.createElement(A.A,{variant:"danger",className:"my-2 me-2",onClick:t.removeExclusion},"Remove Exclusion"),o.createElement(A.A,{onClick:t.addExclusion},"Add Exclusion"))),o.createElement(K,null,o.createElement(K.Item,null,o.createElement(Q,null,o.createElement(Q.Text,null,"Include Pulsing Items"),o.createElement(G.A.Select,{value:t.props.pulsing,onChange:t.updatePulsing},o.createElement("option",{value:"yes"},"Yes"),o.createElement("option",{value:"no"},"No"))),o.createElement(Q,null,o.createElement(Q.Text,null,"Filter by Material"),o.createElement(G.A.Select,{value:t.props.material,onChange:t.updateMaterial},o.createElement("option",{value:"any"},"Any material"),W.map(((e,t)=>o.createElement("option",{key:e,value:t},e))))),o.createElement(Q,null,o.createElement(Q.Text,null,"Filter by Weight"),o.createElement(G.A.Select,{value:t.props.weightType,onChange:e=>t.props.setWeightType(e.target.value)},o.createElement("option",{value:"<"},"Must be less than"),o.createElement("option",{value:">"},"Must be greater than")),o.createElement(G.A.Control,{type:"number",defaultValue:t.props.weight,onChange:t.setWeight})),o.createElement(Q,null,o.createElement(Q.Text,null,"Filter by Area"),o.createElement(G.A.Control,{type:"text",defaultValue:t.props.area,onChange:t.setArea})),o.createElement(Q,null,o.createElement(Q.Text,null,"Filter by Slot"),o.createElement(G.A.Select,{value:t.props.slot,onChange:e=>t.props.setSlot(e.target.value)},o.createElement("option",{value:-1},"Any slot"),ne.map(((e,t)=>o.createElement("option",{key:e,value:t},e)))))))),t}return(0,g.A)(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){e.keywords!==this.props.keywords&&this.setState({keywords:(0,i.A)(e.keywords)})},t}(o.Component);ot.defaultProps={keywords:[""],keywordsSearchType:"any",exclusions:[],pulsing:"yes",material:"any",weight:"",weightType:"<"};var st=(0,s.Ng)((e=>{let{item_search:t}=e;return t}),r)(ot);const lt=["keyword"];let it=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this).state={item:{},keyword:t.props.keyword},t.onKeyDown=e=>{"Enter"===e.key&&(e.preventDefault(),e.stopPropagation(),t.update())},t.edit=()=>{t.setState({editing:!0})},t.stopEditing=()=>{t.setState({editing:!1})},t.updateItem=e=>{t.setState({item:e})},t.saveItem=e=>{t.setState({editing:!1,item:{}}),t.props.createItem(e)},t.updateKeyword=e=>{let{target:{value:a}}=e;t.setState({keyword:a})},t.update=()=>{t.props.keyword!==t.state.keyword&&t.props.setKeyword(t.state.keyword)},t.render=()=>t.props.showAdvancedSearch?o.createElement(st,null):o.createElement(Le,null,o.createElement(Le.Body,null,o.createElement(G.A,null,o.createElement(We,{className:"align-items-center"},o.createElement($e.A,{xs:"auto"},o.createElement(G.A.Control,{type:"text",placeholder:"Search",value:t.state.keyword,onChange:t.updateKeyword,onKeyDown:t.onKeyDown})),o.createElement($e.A,{xs:"auto"},o.createElement(A.A,{variant:"outline-secondary",onClick:t.update},"Submit")),o.createElement($e.A,{xs:"auto"},o.createElement(A.A,{variant:"outline-secondary",onClick:t.props.toggleAdvancedSearch},"Advanced Search")),t.props.user&&o.createElement($e.A,{xs:"auto"},o.createElement(A.A,{variant:"primary",onClick:t.edit},"Create item")),t.state.editing&&o.createElement(ce,{header:"Create Item",item:t.state.item,open:t.state.editing,close:t.stopEditing,updateItem:t.saveItem}))))),t}(0,g.A)(t,e);var a=t.prototype;return a.UNSAFE_componentWillReceiveProps=function(e){if(lt.some((t=>e[t]!==this.props[t]))){const t=this.mapPropsToState(e);this.setState(t)}},a.mapPropsToState=function(e){let{keyword:t}=e;return{keyword:t}},t}(o.Component);var ct=(0,s.Ng)(((e,t)=>{let{user:a,item_search:n}=e;return{user:a,...n,...t}}),r)(it);var mt=(0,s.Ng)((e=>e),n)((e=>{let{createItem:t,editItem:a,removeItem:n,fetchItems:r}=e;return(0,o.useEffect)(r,[]),o.createElement(l.A,{style:{maxWidth:"600px"}},o.createElement("main",null,o.createElement("br",null),o.createElement(ct,{createItem:t}),o.createElement("br",null),o.createElement(he,{editItem:a,removeItem:n})))}))}}]);
//# sourceMappingURL=component---src-pages-index-js-bfb4c1a56270372ccacc.js.map